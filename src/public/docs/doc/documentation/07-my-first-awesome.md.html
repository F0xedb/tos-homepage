<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Topic 07-my-first-awesome.md - TDE API documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
   <script>
     function show_extra(id) {
        var cur = document.getElementById("item"+id).className

        if (cur == "hide_extra") {
            document.getElementById("item"+id).className = "show_more"
            document.getElementById("button"+id).className = "hide_extra"
        }
     }
   </script>

</head>
<body>

<div id="container">

<div id="product">
    <div id="product_logo"></div>
    <div id="product_name"><big><b></b></big></div>
    <div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">




<!-- Menu -->

<div id="navigation">
<br/>
<h1>TDE</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Example_plugins">Example plugins </a></li>
<li><a href="#Plugin_location">Plugin location </a></li>
<li><a href="#Plugin_configuration_file">Plugin configuration file </a></li>
<li><a href="#Plugin_Types">Plugin Types </a></li>
<li><a href="#Setting_up_development_environment">Setting up development environment </a></li>
<li><a href="#Module">Module </a></li>
<li><a href="#More_advanced_example">More advanced example </a></li>
<li><a href="#Widget">Widget </a></li>
<li><a href="#Docs">Docs </a></li>
</ul>


<h2>Documentation</h2>
<ul class="nowrap">
  <li><a href="../documentation/00-authors.md.html">Authors</a></li>
  <li><a href="../documentation/01-readme.md.html">01-readme</a></li>
  <li><a href="../documentation/02-contributing.md.html">Contributing</a></li>
  <li><a href="../documentation/03-declarative-layout.md.html">The Widget system</a></li>
  <li><a href="../documentation/04-new-widgets.md.html">Creating new widget</a></li>
  <li><a href="../documentation/06-appearance.md.html">Change TDE appearance</a></li>
  <li><strong>Plugin Intro</strong></li>
  <li><a href="../documentation/08-client-layout-system.md.html">The TDE client layout system</a></li>
  <li><a href="../documentation/09-options.md.html">Startup options</a></li>
  <li><a href="../documentation/10-building-and-testing.md.html">Building and Testing</a></li>
  <li><a href="../documentation/16-using-cairo.md.html">Using Cairo and LGI</a></li>
  <li><a href="../documentation/89-NEWS.md.html">NEWS</a></li>
  <li><a href="../documentation/90-FAQ.md.html">FAQ</a></li>
</ul>
<h2>Core components</h2>
<ul class="nowrap">
  <li><a href="../core_components/awesome.html">awesome</a></li>
  <li><a href="../core_components/awful.keygrabber.html">awful.keygrabber</a></li>
  <li><a href="../core_components/client.html">client<span class='listplusign'> and awful.client</span></a></li>
  <li><a href="../core_components/drawable.html">drawable</a></li>
  <li><a href="../core_components/gears.timer.html">gears.timer</a></li>
  <li><a href="../core_components/mousegrabber.html">mousegrabber</a></li>
  <li><a href="../core_components/naughty.action.html">naughty.action</a></li>
  <li><a href="../core_components/naughty.notification.html">naughty.notification</a></li>
  <li><a href="../core_components/root.html">root</a></li>
  <li><a href="../core_components/screen.html">screen<span class='listplusign'> and awful.screen</span></a></li>
  <li><a href="../core_components/tag.html">tag<span class='listplusign'> and awful.tag</span></a></li>
</ul>
<h2>TDE</h2>
<ul class="nowrap">
  <li><a href="../tde/lib-tde.animations.html">lib-tde.animations</a></li>
  <li><a href="../tde/lib-tde.animations.tween.html">lib-tde.animations.tween</a></li>
  <li><a href="../tde/lib-tde.config-writer.html">lib-tde.config-writer</a></li>
  <li><a href="../tde/lib-tde.extractcover.html">lib-tde.extractcover</a></li>
  <li><a href="../tde/lib-tde.file.html">lib-tde.file</a></li>
  <li><a href="../tde/lib-tde.function.application_runner.html">lib-tde.function.application_runner</a></li>
  <li><a href="../tde/lib-tde.function.battery.html">lib-tde.function.battery</a></li>
  <li><a href="../tde/lib-tde.function.common.html">lib-tde.function.common</a></li>
  <li><a href="../tde/lib-tde.function.datetime.html">lib-tde.function.datetime</a></li>
  <li><a href="../tde/lib-tde.function.delayed-timer.html">lib-tde.function.delayed-timer</a></li>
  <li><a href="../tde/lib-tde.hardware-check.html">lib-tde.hardware-check</a></li>
  <li><a href="../tde/lib-tde.i18n.html">lib-tde.i18n</a></li>
  <li><a href="../tde/lib-tde.imagemagic.html">lib-tde.imagemagic</a></li>
  <li><a href="../tde/lib-tde.logger.html">lib-tde.logger</a></li>
  <li><a href="../tde/lib-tde.mappers.html">lib-tde.mappers</a></li>
  <li><a href="../tde/lib-tde.mouse.html">lib-tde.mouse</a></li>
  <li><a href="../tde/lib-tde.network.html">lib-tde.network</a></li>
  <li><a href="../tde/lib-tde.serialize.html">lib-tde.serialize</a></li>
  <li><a href="../tde/lib-tde.signals.html">lib-tde.signals</a></li>
  <li><a href="../tde/lib-tde.volume.html">lib-tde.volume</a></li>
  <li><a href="../tde/lib-tde.widget.rounded.html">lib-tde.widget.rounded</a></li>
</ul>
<h2>Datastructures</h2>
<ul class="nowrap">
  <li><a href="../datastructures/lib-tde.datastructure.binary-tree.html">lib-tde.datastructure.binary-tree</a></li>
  <li><a href="../datastructures/lib-tde.datastructure.hashmap.html">lib-tde.datastructure.hashmap</a></li>
  <li><a href="../datastructures/lib-tde.datastructure.linkedList.html">lib-tde.datastructure.linkedList</a></li>
  <li><a href="../datastructures/lib-tde.datastructure.queue.html">lib-tde.datastructure.queue</a></li>
  <li><a href="../datastructures/lib-tde.datastructure.set.html">lib-tde.datastructure.set</a></li>
  <li><a href="../datastructures/lib-tde.datastructure.stack.html">lib-tde.datastructure.stack</a></li>
  <li><a href="../datastructures/lib-tde.sort.quicksort.html">lib-tde.sort.quicksort</a></li>
  <li><a href="../datastructures/lib-tde.xrandr.html">lib-tde.xrandr</a></li>
</ul>
<h2>TDE Widget</h2>
<ul class="nowrap">
  <li><a href="../tde widget/lib-widget.button.html">lib-widget.button</a></li>
  <li><a href="../tde widget/lib-widget.card.html">lib-widget.card</a></li>
  <li><a href="../tde widget/lib-widget.checkbox.html">lib-widget.checkbox</a></li>
  <li><a href="../tde widget/lib-widget.inputfield.html">lib-widget.inputfield</a></li>
  <li><a href="../tde widget/lib-widget.profilebox.html">lib-widget.profilebox</a></li>
  <li><a href="../tde widget/lib-widget.progress_bar.html">lib-widget.progress_bar</a></li>
  <li><a href="../tde widget/lib-widget.scrollbox.html">lib-widget.scrollbox</a></li>
  <li><a href="../tde widget/lib-widget.separator.html">lib-widget.separator</a></li>
  <li><a href="../tde widget/lib-widget.slider.html">lib-widget.slider</a></li>
</ul>
<h2>Input handling</h2>
<ul class="nowrap">
  <li><a href="../input_handling/awful.button.html">awful.button</a></li>
  <li><a href="../input_handling/awful.key.html">awful.key</a></li>
  <li><a href="../input_handling/awful.keyboard.html">awful.keyboard</a></li>
  <li><a href="../input_handling/mouse.html">mouse</a></li>
</ul>
<h2>Declarative rules</h2>
<ul class="nowrap">
  <li><a href="../declarative_rules/ruled.client.html">ruled.client</a></li>
  <li><a href="../declarative_rules/ruled.notifications.html">ruled.notifications</a></li>
</ul>
<h2>Widgets</h2>
<ul class="nowrap">
  <li><a href="../widgets/awful.widget.button.html">awful.widget.button</a></li>
  <li><a href="../widgets/awful.widget.clienticon.html">awful.widget.clienticon</a></li>
  <li><a href="../widgets/awful.widget.keyboardlayout.html">awful.widget.keyboardlayout</a></li>
  <li><a href="../widgets/awful.widget.launcher.html">awful.widget.launcher</a></li>
  <li><a href="../widgets/awful.widget.layoutbox.html">awful.widget.layoutbox</a></li>
  <li><a href="../widgets/awful.widget.layoutlist.html">awful.widget.layoutlist</a></li>
  <li><a href="../widgets/awful.widget.prompt.html">awful.widget.prompt</a></li>
  <li><a href="../widgets/awful.widget.taglist.html">awful.widget.taglist</a></li>
  <li><a href="../widgets/awful.widget.tasklist.html">awful.widget.tasklist</a></li>
  <li><a href="../widgets/awful.widget.watch.html">awful.widget.watch</a></li>
  <li><a href="../widgets/naughty.list.actions.html">naughty.list.actions</a></li>
  <li><a href="../widgets/naughty.list.notifications.html">naughty.list.notifications</a></li>
  <li><a href="../widgets/naughty.widget.appname.html">naughty.widget.appname</a></li>
  <li><a href="../widgets/naughty.widget.icon.html">naughty.widget.icon</a></li>
  <li><a href="../widgets/naughty.widget.message.html">naughty.widget.message</a></li>
  <li><a href="../widgets/naughty.widget.title.html">naughty.widget.title</a></li>
  <li><a href="../widgets/wibox.widget.calendar.html">wibox.widget.calendar</a></li>
  <li><a href="../widgets/wibox.widget.checkbox.html">wibox.widget.checkbox</a></li>
  <li><a href="../widgets/wibox.widget.graph.html">wibox.widget.graph</a></li>
  <li><a href="../widgets/wibox.widget.imagebox.html">wibox.widget.imagebox</a></li>
  <li><a href="../widgets/wibox.widget.piechart.html">wibox.widget.piechart</a></li>
  <li><a href="../widgets/wibox.widget.progressbar.html">wibox.widget.progressbar</a></li>
  <li><a href="../widgets/wibox.widget.separator.html">wibox.widget.separator</a></li>
  <li><a href="../widgets/wibox.widget.slider.html">wibox.widget.slider</a></li>
  <li><a href="../widgets/wibox.widget.systray.html">wibox.widget.systray</a></li>
  <li><a href="../widgets/wibox.widget.textbox.html">wibox.widget.textbox</a></li>
  <li><a href="../widgets/wibox.widget.textclock.html">wibox.widget.textclock</a></li>
</ul>
<h2>Widget containers</h2>
<ul class="nowrap">
  <li><a href="../widget_containers/awful.widget.only_on_screen.html">awful.widget.only_on_screen</a></li>
  <li><a href="../widget_containers/naughty.widget.background.html">naughty.widget.background</a></li>
  <li><a href="../widget_containers/wibox.container.arcchart.html">wibox.container.arcchart</a></li>
  <li><a href="../widget_containers/wibox.container.background.html">wibox.container.background</a></li>
  <li><a href="../widget_containers/wibox.container.constraint.html">wibox.container.constraint</a></li>
  <li><a href="../widget_containers/wibox.container.margin.html">wibox.container.margin</a></li>
  <li><a href="../widget_containers/wibox.container.mirror.html">wibox.container.mirror</a></li>
  <li><a href="../widget_containers/wibox.container.place.html">wibox.container.place</a></li>
  <li><a href="../widget_containers/wibox.container.radialprogressbar.html">wibox.container.radialprogressbar</a></li>
  <li><a href="../widget_containers/wibox.container.rotate.html">wibox.container.rotate</a></li>
  <li><a href="../widget_containers/wibox.container.scroll.html">wibox.container.scroll</a></li>
  <li><a href="../widget_containers/wibox.container.tile.html">wibox.container.tile</a></li>
</ul>
<h2>Widget layouts</h2>
<ul class="nowrap">
  <li><a href="../widget_layouts/wibox.layout.align.html">wibox.layout.align</a></li>
  <li><a href="../widget_layouts/wibox.layout.fixed.html">wibox.layout.fixed</a></li>
  <li><a href="../widget_layouts/wibox.layout.flex.html">wibox.layout.flex</a></li>
  <li><a href="../widget_layouts/wibox.layout.grid.html">wibox.layout.grid</a></li>
  <li><a href="../widget_layouts/wibox.layout.manual.html">wibox.layout.manual</a></li>
  <li><a href="../widget_layouts/wibox.layout.ratio.html">wibox.layout.ratio</a></li>
  <li><a href="../widget_layouts/wibox.layout.stack.html">wibox.layout.stack</a></li>
</ul>
<h2>Popups and bars</h2>
<ul class="nowrap">
  <li><a href="../popups_and_bars/awful.hotkeys_popup.widget.html">awful.hotkeys_popup.widget</a></li>
  <li><a href="../popups_and_bars/awful.menu.html">awful.menu</a></li>
  <li><a href="../popups_and_bars/awful.popup.html">awful.popup</a></li>
  <li><a href="../popups_and_bars/awful.titlebar.html">awful.titlebar</a></li>
  <li><a href="../popups_and_bars/awful.tooltip.html">awful.tooltip</a></li>
  <li><a href="../popups_and_bars/awful.wibar.html">awful.wibar</a></li>
  <li><a href="../popups_and_bars/awful.widget.calendar_popup.html">awful.widget.calendar_popup</a></li>
  <li><a href="../popups_and_bars/menubar.html">menubar</a></li>
  <li><a href="../popups_and_bars/naughty.layout.box.html">naughty.layout.box</a></li>
  <li><a href="../popups_and_bars/naughty.layout.legacy.html">naughty.layout.legacy</a></li>
  <li><a href="../popups_and_bars/wibox.html">wibox</a></li>
</ul>
<h2>Utility libraries</h2>
<ul class="nowrap">
  <li><a href="../utility_libraries/gears.debug.html">gears.debug</a></li>
  <li><a href="../utility_libraries/gears.filesystem.html">gears.filesystem</a></li>
  <li><a href="../utility_libraries/gears.geometry.html">gears.geometry</a></li>
  <li><a href="../utility_libraries/gears.math.html">gears.math</a></li>
  <li><a href="../utility_libraries/gears.object.html">gears.object</a></li>
  <li><a href="../utility_libraries/gears.protected_call.html">gears.protected_call</a></li>
  <li><a href="../utility_libraries/gears.sort.html">gears.sort</a></li>
  <li><a href="../utility_libraries/gears.string.html">gears.string</a></li>
  <li><a href="../utility_libraries/gears.table.html">gears.table</a></li>
  <li><a href="../utility_libraries/gears.wallpaper.html">gears.wallpaper</a></li>
</ul>
<h2>Theme related libraries</h2>
<ul class="nowrap">
  <li><a href="../theme_related_libraries/beautiful.html">beautiful</a></li>
  <li><a href="../theme_related_libraries/gears.color.html">gears.color</a></li>
  <li><a href="../theme_related_libraries/gears.shape.html">gears.shape</a></li>
</ul>
<h2>Libraries</h2>
<ul class="nowrap">
  <li><a href="../libraries/awful.completion.html">awful.completion</a></li>
  <li><a href="../libraries/awful.hotkeys_popup.html">awful.hotkeys_popup</a></li>
  <li><a href="../libraries/awful.layout.html">awful.layout</a></li>
  <li><a href="../libraries/awful.permissions.html">awful.permissions</a></li>
  <li><a href="../libraries/awful.placement.html">awful.placement</a></li>
  <li><a href="../libraries/awful.prompt.html">awful.prompt</a></li>
  <li><a href="../libraries/awful.rules.html">awful.rules</a></li>
  <li><a href="../libraries/awful.spawn.html">awful.spawn</a></li>
  <li><a href="../libraries/awful.util.html">awful.util</a></li>
  <li><a href="../libraries/dbus.html">dbus</a></li>
  <li><a href="../libraries/gears.matcher.html">gears.matcher</a></li>
  <li><a href="../libraries/gears.surface.html">gears.surface</a></li>
  <li><a href="../libraries/lib-tde.html">lib-tde</a></li>
  <li><a href="../libraries/lib-tde.function.html">lib-tde.function</a></li>
  <li><a href="../libraries/menubar.menu_gen.html">menubar.menu_gen</a></li>
  <li><a href="../libraries/menubar.utils.html">menubar.utils</a></li>
  <li><a href="../libraries/naughty.html">naughty</a></li>
  <li><a href="../libraries/selection.html">selection</a></li>
  <li><a href="../libraries/tde-src.collision.util.html">tde-src.collision.util</a></li>
  <li><a href="../libraries/wibox.widget.html">wibox.widget</a></li>
</ul>
<h2>Sample files</h2>
<ul class="nowrap">
  <li><a href="../sample files/rc.lua.html">rc.lua</a></li>
  <li><a href="../sample files/theme.lua.html">theme.lua</a></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/awful.widget.common.html">awful.widget.common</a></li>
  <li><a href="../classes/gears.cache.html">gears.cache</a></li>
  <li><a href="../classes/gears.matrix.html">gears.matrix</a></li>
  <li><a href="../classes/menubar.icon_theme.html">menubar.icon_theme</a></li>
  <li><a href="../classes/menubar.index_theme.html">menubar.index_theme</a></li>
  <li><a href="../classes/signals.html">signals</a></li>
  <li><a href="../classes/wibox.drawable.html">wibox.drawable</a></li>
  <li><a href="../classes/wibox.hierarchy.html">wibox.hierarchy</a></li>
  <li><a href="../classes/wibox.widget.base.html">wibox.widget.base</a></li>
  <li><a href="../classes/xproperties.html">xproperties</a></li>
</ul>

</div>

<div id="content">


<h1>Plugin Intro</h1>

<p><a name="Example_plugins"></a></p>
<h2>Example plugins</h2>
<p>First of all example plugins can be found in the <code>/etc/skel/.config/tde</code> directory.</p>

<p>For a fun example of what a plugin can do take a look at the snake game:</p>


<pre>
cat /etc/skel/.config/tde/snake/init.lua | tde-client
</pre>


<blockquote>
    <p>Note: To stop the game press escape</p>
</blockquote>

<p><a name="Plugin_location"></a></p>
<h2>Plugin location</h2>

<p>Before writing your first plugin you need to understand where they need to be located.
Plugins are located in the <code>~/.config/tde</code> directory.</p>

<p>If the directory doesn't exist yet then create one.</p>


<pre>
mkdir -p <span class="string">"$HOME/.config/tde"</span>
</pre>


<p>Each subdirectory in this directory is one plugin</p>

<p><a name="Plugin_configuration_file"></a></p>
<h2>Plugin configuration file</h2>

<p>The configuration file to enable/disable plugins can be found in the following location <code>~/.config/tos/plugins.conf</code></p>

<p>By default it looks like this:</p>

<pre>
# Notification widget plugins will be added <span class="keyword">in</span> the notification center
notification=<span class="string">"widget.user-profile"</span>
notification=<span class="string">"widget.social-media"</span>
notification=<span class="string">"widget.weather"</span>
notification=<span class="string">"widget.sars-cov-2"</span>
notification=<span class="string">"widget.calculator"</span>

#<span class="global">module</span>=<span class="string">"hello-world"</span>

#settings=<span class="string">"hello-world-widget"</span>


#topbar-right=<span class="string">"icon_button"</span>

# topbar-left=<span class="string">"icon_button"</span>

# topbar-center=<span class="string">"icon_button"</span>

#settings=<span class="string">"settings-app-widget"</span>
</pre>


<p>As you can see by default tde already makes use of some plugins.</p>

<blockquote>
    <p>NOTE: plugins starting with <code>widget</code> are threated as internal widget implemented directly into <code>TDE</code></p>
</blockquote>

<p><a name="Plugin_Types"></a></p>
<h2>Plugin Types</h2>

<ol>
    <li><code>Modules</code>:
    These plugins are simple scripts written in <code>lua</code> that are ran in the background under the same process as widgets (thus they can manipulate widgets and more).
    Users usually don't see these plugins working. </li>
</ol>

<p>Examples are: </p>

<ul>
    <li>low battery notifier</li>
    <li>keybindings</li>
    <li>settings modifiers</li>
    <li>file watchers </li>
    <li>and many more. </li>
</ul>

<p>You can compair then with <a href="https://en.wikipedia.org/wiki/Daemon_(computing">daemons</a>.</p>

<ol>
    <li><code>Widgets</code>:
    Next you have widgets, these are the plugins you see every day.
    They are the GUI representation of a certain object.
    You can see them all over the place.
    Starting from the clock, package updater, wifi widget, workspaces, settings app and more.
    When writting a plugin you must take into consideration which one to use.
    Everything is allowed in a Module, however when writing a Widget you must inherit wibox and return such an object to be consumed by TDE.</li>
</ol>

<p>This will be explained below</p>

<h3>Plugin Widgets</h3>
<p>Plugins widgets can be placed in multiple locations around the user interface.
In the configuration file you can specify where the widget should be placed.
Here are the current widget locations.</p>

<ol>
    <li><code>settings</code> - The widget will be placed at the bottom of the settings app (left menu)</li>
    <li><code>topbar</code> - The widget will be placed in the topbar on the right side next to all the buttons</li>
    <li><code>notification center</code> - The widget will be put in the notification center under the widget tab</li>
</ol>


<h1>My First Plugin</h1>

<p>This part is interactive, it will guide you to make both a <code>Module</code> and a <code>Widget</code>, how to debug, testing out etc.</p>

<p>Follow this tutorial if you have never build a plugin before.</p>

<p><a name="Setting_up_development_environment"></a></p>
<h2>Setting up development environment</h2>

<p>First of all, make sure you have <a href="https://github.com/ODEX-TOS/wm-debug">wm-launch</a> installed.
This will create a mock <code>TDE</code> instance that you can test without messing up your real desktop environment.
It is highly recommended you use this and this tutorial will make great use of it.</p>

<blockquote>
    <p>Note: The above is not a hard requirement but makes debugging a lot more easily</p>
</blockquote>

<p>To test if you installed wm-launch correctly execute the following command:</p>


<pre>
wm-launch -r <span class="number">1080</span>x1080
</pre>


<blockquote>
    <p>Note: the <code>1080x1080</code> option creates a window of size 1080 pixels x 1080 pixels, if your monitor is sufficiently large increase this number</p>
</blockquote>

<h3>IDE</h3>

<p>Having autocompletion for <code>TDE</code> is really usefull and makes developing a lot easier.
Currently <code>TDE</code> only support autocomplete in VS Code using the following <a href="https://wiki.odex.be/en/Developer/vscode-tde">docs</a></p>

<p><a name="Module"></a></p>
<h2>Module</h2>

<h3>Setup</h3>

<p>Lets get started with your first module.</p>

<p>Firstly create a new directory in <code>~/.config/tde/</code> called <code>my-first-module</code></p>


<pre>
mkdir -p <span class="string">"$HOME/.config/tde/my-first-module"</span>
</pre>


<p>This directory will house everything related to your project.</p>

<p>Next we tell <code>TDE</code> that we want to enable this module called <code>my-first-module</code></p>

<p>Edit the following file <code>~/.config/tos/plugins.conf</code> and add the following:</p>


<pre>
<span class="global">module</span>=<span class="string">"my-first-module"</span>
</pre>


<p>The above line will make <code>tde</code> use your module.</p>


<h3>Code</h3>

<p>Next we will create the <code>lua</code> file that is your plugins entrypoint</p>

<p>The file is located in <code>~/.config/tde/my-first-module/init.lua</code></p>

<p>Write the following into that file</p>


<pre>
<span class="global">print</span>(<span class="string">"Hello, World!"</span>)
<span class="global">print</span>(<span class="string">"This is executed from my plugin"</span>)
</pre>


<p>In essence you should have the following directory structure:</p>

<pre>
.config/
├─ tos/
│  ├─ plugins.conf
├─ tde/
│  ├─ my-first-<span class="global">module</span>/
│  │  ├─ init.lua
</pre>


<h3>Run Your Plugin</h3>

<p>Now lets run your plugin!</p>

<h4>wm-launch</h4>

<p>wm-launch is your best bet
Since you created the plugin and enabled it can simply launch the <code>wm-launch</code> command.</p>

<p>Look at your terminal and wait a few seconds until you see the <code>Hello, World!</code> and the <code>This is executed from my plugin</code> lines appear somewhere in the output</p>

<h4>In current session</h4>

<blockquote>
    <p>Note: running arbitrary code in the current session could potentially break the system, make sure nothing wrong can happen
    The code you run can potentially contain leaks making the active session slow. This simple example couldn't hurt, but larger plugins can</p>
</blockquote>

<p>First of all open 2 terminal.</p>

<ol>
    <li>The first monitors the log file from the active session</li>
    <li>The second starts/activates your plugin.</li>
</ol>

<p>Executed this command in the first terminal:</p>

<pre>
tail -f <span class="string">"$HOME/.cache/tde/stdout.log"</span>
</pre>


<p>Executed this command in the seconds terminal:</p>

<pre>
cat <span class="string">"$HOME/.config/tde/my-first-module/init.lua"</span> | tde-client
</pre>


<p>Afterwards check the first terminal, you should see your <code>Hello, World!</code> and <code>This is executed from my plugin</code> messages appear in the output.</p>


<blockquote>
    <p>Note: <code>tde-client</code> is an interface into the active session, it allows sending <code>commands</code> to the interpreter so that you can modify the behaviour of <code>TDE</code></p>
</blockquote>


<p><a name="More_advanced_example"></a></p>
<h2>More advanced example</h2>

<p>Great you created your first module, of course you can do more than printing to <code>stdout</code>
Since you are writing <code>lua</code> you have full control over the plugin.</p>

<p>Lets take a more advanced example.
A plugin that performs 2 simple tasks.
1. Execute a shell script
2. Plays a sound once the script finished</p>

<p>Open your <code>init.lua</code> file and add the following content</p>

<pre>
<span class="comment">-- include some required modules
</span><span class="keyword">local</span> spawn = awful.spawn

<span class="comment">-- this is an example of the default 'pop' sound that tos uses, change the file to your liking
</span><span class="keyword">local</span> <span class="keyword">function</span> play_sound()
    spawn(<span class="string">"paplay /etc/xdg/tde/sound/audio-pop.wav"</span>)
<span class="keyword">end</span>

<span class="comment">-- This function gets called when our shell script is done executing
</span><span class="comment">-- In our example we don't make use of the parameters
</span><span class="keyword">local</span> <span class="keyword">function</span> done_callback(stdout, stderr, reason, exitcode)
    <span class="global">print</span>(<span class="string">"Done executing shell script"</span>)
    <span class="global">print</span>(<span class="string">"STDOUT:"</span>)
    <span class="global">print</span>(stdout)

    play_sound()
<span class="keyword">end</span>

<span class="comment">-- start of this plugin
</span><span class="global">print</span>(<span class="string">'Plugin Loaded'</span>)
play_sound() <span class="comment">-- pop sound
</span>
<span class="comment">-- lets execute a simple shell script
</span><span class="keyword">local</span> cmd = <span class="string">[[
    echo 'Script started'
    sleep 5
    echo 'Script stopped'
]]</span>
<span class="comment">-- and execute it, we 'bind' the done_callback function to this shell script
</span>spawn.easy_async_with_shell(cmd, done_callback)
</pre>


<p>The only build in module we use is called <a href="../libraries/awful.spawn.html#">awful.spawn</a></p>

<p>Now execute your plugin as noted in the last section and see what happens.</p>

<p><a name="Widget"></a></p>
<h2>Widget</h2>

<p>This section will be explained in the future</p>

<p><a name="Docs"></a></p>
<h2>Docs</h2>

<p>Now that you have followed the tutorial and created both a basic <code>Module</code> and <code>Widget</code> you can explore the documentation.
Learn about the api and what <code>TDE</code> directly has to offer.</p>

<p>Some useful resources:</p>

<ol>
    <li><code>Lua</code> <a href="https://www.lua.org/pil/1.html">getting started</a></li>
    <li><code>Example plugins</code> <a href="https://github.com/ODEX-TOS/tos-desktop-environment/tree/master/plugins">Official plugins</a></li>
    <li><code>This documentation</code> <a href="../index.html">site</a></li>
    <li><code>Recommended patterns</code> <a href="https://wiki.odex.be/en/Usage/Plugin">Plugin recommended patterns</a></li>
    <li><code>lib-widget</code> <a href="../tde%20widget/lib-widget.button.html">contains useful widgets</a></li>
</ol>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i style="float:left;">generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i>Build with 💜 By F0xedb</i>
<i style="float:right;">Last updated 2021-06-01 11:30:37 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
